<Module>
<ModulePrefs title="Lemon Games | Eaglercraft"/>
<Content type="html"><![CDATA[
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lemon Games</title>
<style>
html, body {
  margin:0; padding:0; width:100%; height:100%;
  font-family:'Poppins',sans-serif;
  overflow:hidden;
  background:#0d0d0d; color:#fff;
  display:flex; justify-content:center; align-items:center;
}
#menu {
  position:absolute; top:0; left:0; width:100%; height:100%;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  z-index:10; transition:opacity 0.5s;
}
#menu.fade-out { opacity:0; pointer-events:none; }
h1 { font-size:3rem; margin-bottom:2rem; color:#fff; }
.play-button {
  padding:1rem 3rem; font-size:1.5rem; font-weight:700;
  border:none; border-radius:10px; cursor:pointer;
  background:#3cafff; color:#fff; transition: transform 0.2s;
}
.play-button:hover { transform:scale(1.05); }
#loading {
  position:absolute; top:0; left:0; width:100%; height:100%;
  background:#111; display:none; flex-direction:column; justify-content:center; align-items:center;
  z-index:9;
}
.spinner {
  width:50px; height:50px; border:4px solid rgba(255,255,255,0.1);
  border-top-color:#3cafff; border-radius:50%; animation:spin 0.8s linear infinite;
  margin-bottom:15px;
}
@keyframes spin { to { transform:rotate(360deg); } }
.loading-text { font-size:1.2rem; color:#aaa; font-weight:600; text-align:center; max-width:300px; }
#game_frame {
  width:100%; height:100%; display:none;
  background:#000; position:absolute; top:0; left:0;
}
.dot {
  position:absolute; width:6px; height:6px; background:#fff;
  border-radius:50%; opacity:0.7;
}
#counter {
  position:absolute; bottom:10px; right:15px;
  font-size:0.9rem; color:#aaa; background:rgba(255,255,255,0.05);
  padding:6px 10px; border-radius:8px; backdrop-filter:blur(5px);
  border:1px solid rgba(255,255,255,0.1);
  z-index:20; display:flex; align-items:center; gap:6px;
}
#live-dot {
  width:8px; height:8px; background:#ff3c3c;
  border-radius:50%; box-shadow:0 0 10px #ff3c3c;
  animation:pulse 1.5s infinite;
}
@keyframes pulse {
  0%,100% { opacity:1; transform:scale(1); }
  50% { opacity:0.4; transform:scale(1.3); }
}
footer {
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  text-align:center;
  padding:10px;
  font-size:0.85rem;
  color:#777;
  background:rgba(255,255,255,0.02);
}
</style>
<script src="https://cdn.jsdelivr.net/gh/mece188/feh@main/classes.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mece188/feh@main/fix-webm-duration.js"></script>
</head>
<body>

<div id="menu">
  <h1>üçã Lemon Games</h1>
  <button class="play-button" id="playBtn">‚ñ∂ Play</button>
</div>

<div id="loading">
  <div class="spinner"></div>
  <div class="loading-text">Loading Eaglercraft 1.8.8 WASM...</div>
</div>

<div id="game_frame"></div>

<div id="counter">
  <div id="live-dot"></div>
  Live: <span id="count">0</span>
</div>

<footer>If you have any problems, find me in the hallway or message me.</footer>

<script>
// Floating dots
const dots=[];const numDots=150;
for(let i=0;i<numDots;i++){
  const dot=document.createElement('div');
  dot.className='dot';
  const size=Math.random()*4+2;
  dot.style.width=dot.style.height=size+'px';
  dot.style.left=Math.random()*window.innerWidth+'px';
  dot.style.top=Math.random()*window.innerHeight+'px';
  dot.dataset.vx=(Math.random()*0.4-0.2);
  dot.dataset.vy=(Math.random()*0.4-0.2);
  document.body.appendChild(dot);
  dots.push(dot);
}
function animateDots(){
  dots.forEach(dot=>{
    let x=parseFloat(dot.style.left);
    let y=parseFloat(dot.style.top);
    x+=parseFloat(dot.dataset.vx);
    y+=parseFloat(dot.dataset.vy);
    if(x<0)x=window.innerWidth;if(x>window.innerWidth)x=0;
    if(y<0)y=window.innerHeight;if(y>window.innerHeight)y=0;
    dot.style.left=x+'px';dot.style.top=y+'px';
  });
  requestAnimationFrame(animateDots);
}
animateDots();

// Game loading
const playBtn=document.getElementById('playBtn');
const menu=document.getElementById('menu');
const loadingDiv=document.getElementById('loading');
const gameFrame=document.getElementById('game_frame');
playBtn.addEventListener('click',()=>{
  menu.classList.add('fade-out');
  dots.forEach(dot=>{dot.style.transition='opacity 0.5s';dot.style.opacity=0;});
  setTimeout(()=>{
    loadingDiv.style.display='flex';
    setTimeout(()=>{
      loadingDiv.style.display='none';
      gameFrame.style.display='flex';
      if(!window.eaglercraftXOpts){
        window.eaglercraftXOpts={
          container:"game_frame",
          assetsURI:"https://cdn.jsdelivr.net/gh/mece188/feh@main/assets.epk",
          localesURI:"lang/",
          servers:[
            {addr:"wss://mc.arch.lol/", name:"ArchMC"},
            {addr:"wss://mc.asspixel.net", name:"AssPixel"},
            {addr:"wss://sus.shhnowisnottheti.me", name:"Ayunboom"},
            {addr:"wss://aeon-network.net/1.8", name:"Aeon"},
            {addr:"wss://zentic.org/", name:"Zentic"}
          ]
        };
      }
      try{ main(); }catch(e){ console.error("Error starting EaglercraftX:",e);}
    },3000);
  },500);
});

// Online counter
const counter=document.getElementById('count');
async function updateCounter(){
  try {
    const res = await fetch('https://api.countapi.xyz/hit/lemongames/eagler');
    const data = await res.json();
    counter.textContent=data.value;
  } catch {
    counter.textContent='?';
  }
}
updateCounter();
setInterval(updateCounter,15000);
</script>

</body>
</html>
</Content>
</Module>
